----
<b>Table of contents:</b>

<<<!-- ! TOC here -->(2)>>
----

= Speed benchmarks =

== Comparing with Mercurial ==

On Mon, Apr 25, 2005 at 07:08:28PM -0700, Linus Torvalds wrote:<<BR>>
> <<BR>>
> To make an interesting benchmark, try applying the first 200 patches in<<BR>> 
> the current git kernel archive. Can you do them three per second? THAT is<<BR>> 
> the thing you should optimize for, not checking in huge changes.<<BR>>

Ok, I've optimized for it a bit. This is basically:

<pre><nowiki>
 hg import -p1 -b ../broken-out `cat ../broken-out | grep -v #`
</nowiki></pre>

My benchmark is to apply all 819 patches from -mm3 to 2.6.12-rc:

 hg (Mercurial 0.4b)::

  ||real   || 3m22.075s ||
  ||user   || 1m57.195s ||
  ||sys    || 0m14.068s ||

 819/(60+57.195 + 14.068) = 6.239 patches/second  user+sys<<BR>>
 repository: before 167M after 173M (3.5% growth)

 git (version unknown, as of April 29, 2005)::

  ||real   || 2m58.568s ||
  ||user   || 1m11.196s ||
  ||sys    || 0m50.144s ||

 819/(60+11.196+50.144) = 6.750 patches/second  user+sys<<BR>>
 repository: before 102M after 154M (51% growth)

<b>Reference:</b> [http://marc.theaimsgroup.com/?l=git&m=111475459526688 Mercurial 0.4b vs git patchbomb benchmark] by Matt Mackall, via [[WikiPedia:Git_(software)|Git (software)]] article at Wikipedia.

----

On Tue, May 23, 2006 in [http://lists.ibiblio.org/pipermail/sm-discuss/2006-May/014586.html |SM-Discuss| scm next steps] post Jeremy Blosser did speed benchmarks with hg vs. git.  The post contains fairly large table of results. Here's the summary, where all times are given in seconds, and are user+sys time averaged over all results and all cases:

 ||<|2> tool ||||||     clone         ||||   status   ||||      log      ||||   pull/merge    ||
 ||<:>          local    ||<:>ssh     ||<:>  http  ||<:> test ||<:> full ||<:> log  ||<:>log -p||<:>server||<:> workst. ||
 || git      ||<)> 9,529s||<)> 14,020s||<)> 36,820s||<)>0,723s||<)>1,893s||<)>0,380s||<)>20,005s  ||<)>165,494s||<)>479,750s ||
 || hg       ||<)>53,783s||<)>109,052s||<)>109,305s||<)>1,857s||<)>4,167s||<)>6,020s||(stopped)||<)> 48,992s||<)>108,150s ||

Git repository has all 4 branches in one repository, Mercurial (hg) had one repository per branch; `git log` is for git_p4 with only 2 branches.

As it can be easily seen Git is faster than Mercurial in all tested areas except pull/merge, where it is around 4 times slower.

----

__NOTOC__